'''
This is the main file of the scientific calculator program.
It imports the Calculator class from calculator.py and creates an instance of it.
It also initializes the graphical user interface (GUI) using the tkinter framework.
'''
import tkinter as tk
from calculator import Calculator
# Create an instance of the Calculator class
calculator = Calculator()
# Function to handle button clicks
def button_click(event):
    # Get the text of the clicked button
    button_text = event.widget.cget("text")
    # Perform the corresponding operation based on the button text
    if button_text == "=":
        try:
            # Evaluate the expression entered by the user
            result = eval(entry.get())
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display the result
            entry.insert(tk.END, result)
        except Exception as e:
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display an error message
            entry.insert(tk.END, "Error")
    elif button_text == "C":
        # Clear the entry field
        entry.delete(0, tk.END)
    elif button_text == "sqrt":
        try:
            # Get the number from the entry field
            num = float(entry.get())
            # Calculate the square root
            result = calculator.square_root(num)
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display the result
            entry.insert(tk.END, result)
        except Exception as e:
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display an error message
            entry.insert(tk.END, "Error")
    elif button_text == "power":
        try:
            # Get the base and exponent from the entry field
            base, exponent = map(float, entry.get().split('^'))
            # Calculate the power
            result = calculator.power(base, exponent)
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display the result
            entry.insert(tk.END, result)
        except Exception as e:
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display an error message
            entry.insert(tk.END, "Error")
    elif button_text == "sin":
        try:
            # Get the angle from the entry field
            angle = float(entry.get())
            # Calculate the sine
            result = calculator.sin(angle)
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display the result
            entry.insert(tk.END, result)
        except Exception as e:
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display an error message
            entry.insert(tk.END, "Error")
    elif button_text == "cos":
        try:
            # Get the angle from the entry field
            angle = float(entry.get())
            # Calculate the cosine
            result = calculator.cos(angle)
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display the result
            entry.insert(tk.END, result)
        except Exception as e:
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display an error message
            entry.insert(tk.END, "Error")
    elif button_text == "tan":
        try:
            # Get the angle from the entry field
            angle = float(entry.get())
            # Calculate the tangent
            result = calculator.tan(angle)
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display the result
            entry.insert(tk.END, result)
        except Exception as e:
            # Clear the entry field
            entry.delete(0, tk.END)
            # Display an error message
            entry.insert(tk.END, "Error")
    else:
        # Append the clicked button text to the entry field
        entry.insert(tk.END, button_text)
# Initialize the GUI
root = tk.Tk()
root.title("Scientific Calculator")
# Create the entry field
entry = tk.Entry(root, font=("Arial", 20))
entry.pack(pady=10)
# Create the buttons
buttons = [
    ["7", "8", "9", "/"],
    ["4", "5", "6", "*"],
    ["1", "2", "3", "-"],
    ["0", ".", "=", "+"],
    ["C", "sqrt", "power", "sin"],
    ["cos", "tan"]
]
for row in buttons:
    button_frame = tk.Frame(root)
    button_frame.pack()
    for button_text in row:
        button = tk.Button(button_frame, text=button_text, font=("Arial", 15), padx=20, pady=10)
        button.pack(side=tk.LEFT)
        button.bind("<Button-1>", button_click)
# Run the GUI
root.mainloop()